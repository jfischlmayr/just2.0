<h1 class="main-title">GANTT</h1>

<div class="content">
  <mat-card class="card-wrapper">
    <mat-card-content>
      
      <mat-form-field appearance="outline" class="select-field">
        <mat-label>Select Project</mat-label>
        <mat-select [(value)]="selectedProject">
          <mat-option *ngFor="let project of projects" [value]="project">
            {{project.title}}
          </mat-option>
        </mat-select>
      </mat-form-field>
        {{days.length}}
        <button mat-raised-button color="primary" class="submit-button" (click)="calcDays(selectedProject)">Gantt zeigen</button>
        <button mat-raised-button color="accent" class="download-button" ><mat-icon>file_download</mat-icon>CSV downloaden</button>

          <div>
            <div class="gantt-task-wrapper">
            <table class="task-zone" cellspacing="0">
              <tr class="head-row" *ngIf="tasksToShow().length > 0">
                <th style="width: auto; text-align: left; min-width: 10vw;">Task</th>
                <th *ngFor="let d of days; index as i" style="min-width: 2.5vw">Tag {{ i }}</th>
              </tr>
              <tr *ngFor="let t of tasksToShow(); index as j" class="task-row">
                <td style="width: auto; text-align: left; min-width: 6vw;"> {{ tasks[j].title }} </td>
                <td *ngFor="let d of days; index as h" [style.background]="fillTableBackground(j, h)" style="min-width: 2.5vw"></td>
              </tr>
            </table>
          </div>
          </div>
        

        </mat-card-content>
      </mat-card>
    </div>



    <div class="flexbox-panel">

        <button mat-fab color="warn" class="fab-prev" aria-label="Previous" [routerLink]="'/tasks'"
                matTooltip="Vorheriger Schritt" [matTooltipShowDelay]="showDelay.value" >
            <mat-icon class="prev">arrow_back_ios</mat-icon>
        </button>

        <button mat-fab disabled color="warn" class="fab-next" aria-label="Next"
                matTooltip="Sie sind am letzten Schritt" [matTooltipShowDelay]="showDelay.value">
            <mat-icon class="next">arrow_forward_ios</mat-icon>
        </button>
    </div>
